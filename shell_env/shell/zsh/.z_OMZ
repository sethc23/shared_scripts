#!env zsh

[[ -n "$DEBUG_SHELL" ]] && echo "zsh/_env_START - $(realfullpath $0)"

[[ -f /opt/local/libexec/gnubin/readlink ]] \
    && THIS_DIR=$(/opt/local/libexec/gnubin/realfullpath $0|sed -r 's/^(.*)\/([^/]+)$/\1/') \
    || THIS_DIR=$(realfullpath $0|sed -r 's/^(.*)\/([^/]+)$/\1/')
source $THIS_DIR/.z_pre_OMZ

export ZSH=$THIS_DIR/OMZ

# ZSH_THEME="robbyrussell"  # see $HOME_ENV/.oh-my-zsh/themes/
# CASE_SENSITIVE="true"
# Uncomment the following line to use hyphen-insensitive completion. Case
# sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"
DISABLE_AUTO_UPDATE="true"        #   bi-weekly auto-update checks.
# export UPDATE_ZSH_DAYS=13         #   how often to auto-update (in days).
# DISABLE_LS_COLORS="true"
# DISABLE_AUTO_TITLE="true"
# ENABLE_CORRECTION="true"
# COMPLETION_WAITING_DOTS="true"
# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"
HIST_STAMPS="yyyy-mm-dd"            #   options: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# ZSH_CUSTOM=/path/to/new-custom-folder
#plugins=(python last-working-dir dirhistory) # added to $HOME_ENV/shell_env/zsh/custom_plugins/

[[ -z $ZSH_PLUGINS ]] && export ZSH_PLUGINS=(zsh-completions autojump last-working-dir git python systemd)
[[ $(uname -o) = Darwin ]] && ZSH_PLUGINS+=(osx)
plugins=$ZSH_PLUGINS

export ZSH_THEME="candy"
[[ -n $ITERM2 ]] && export ZSH_THEME="cobalt2"
[[ -f $HOME_ENV/.shell_local ]] && ZSH_THEME="$(cat $HOME_ENV/.shell_local|grep ZSH_THEME|cut -d = -f2)"

# ------------------------
source $ZSH/oh-my-zsh.sh
autoload -U compinit && compinit
autoload -U bashcompinit && bashcompinit

# ------------------------
# ------------------------

[[ -n "$DEBUG_SHELL" ]] && echo "zsh/_env_END"
